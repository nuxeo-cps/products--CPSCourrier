<metal:html use-macro="here/content_lib_master/macros/master">
  <metal:header fill-slot="header"/>
  <metal:main fill-slot="main"
    tal:define='data python:context.cpscourrier_batch_perform_data(request.form);
                transition data/transition;
                rpaths data/rpaths;'>
    <metal:std_main use-macro="here/content_lib_std_main/macros/std_main">

      <metal:title fill-slot="title" i18n:translate="">
        <span tal:replace="string:heading_batch_workflow_${transition}" />
      </metal:title>

      <metal:help fill-slot="help">
        <span i18n:translate=""
          tal:content="string:help_batch_workflow_${transition}"></span>
      </metal:help>

      <metal:main fill-slot="main"
        tal:define="workflow_action_script string:cpscourrier_batch_perform;">

        <metal:block
          use-macro="here/content_lib_transition_form/macros/transition_form">
          <metal:block fill-slot="button">
            <input type="hidden" name="rpaths:list"
              tal:repeat="rpath rpaths" tal:attributes="value rpath"/>
            <input type="hidden" name="workflow_action"
              tal:attributes="value transition" />
            <input type="submit" class="standalone"
              tal:attributes="value string:button_${transition}"
              i18n:attributes="value" />
            <input type="button" class="context" onClick="history.back()"
              value="button_cancel" i18n:attributes="value" />
          </metal:block>
        </metal:block>

      </metal:main>

    </metal:std_main>
  </metal:main>
</metal:html>
